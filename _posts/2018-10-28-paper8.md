---
layout: post
title: 【Paper】An open-data approach for quantifying the potential of taxi ridesharing
categories: Mobility
---

Barann, Benjamin, Daniel Beverungen, and Oliver Müller. “An Open-Data Approach for Quantifying the Potential of Taxi Ridesharing.” Decision Support Systems 99 (2017): 86–95. doi:10.1016/j.dss.2017.05.008.

## Motivation

Taxi ridesharing1 (TRS) is an advanced form of urban transportation that matches separate ride requests with similar spatio-temporal characteristics to a jointly used taxi.

## Research work

We develop a one-to-one TRS approach that matches rides with similar start and end points. We evaluate our ap- proach by analyzing an open dataset of N5 million taxi trajectories in New York City. Our empirical analysis re- veals that the proposed approach matches up to 48.34% of all taxi rides, saving 2,892,036 km of travel distance, 231,362.89 l ofgas, and 532,134.64 kg ofCO2 emissions per week. Compared to many-to-many TRS approaches, our approach is competitive, simpler to implement and operate, and poses less rigid assumptions on data avail- ability and customer acceptance.

## Ridesharing approaches 

There are several advantages connected to TRS. Customers can profit from the same mobility, accessibility, and efficiency as provided by tra- ditional taxis, and from some of the advantages ofpublic transportation [6,10,29]. For example, one advantage is the cost reduction through split fares [6,9,13,14,16,23,30,p. 409]. Furthermore, the overall waiting time in high demand situations can be reduced [6,13,14,30,p. 409]. From a provider's perspective, TRS increases seat occupancy, reduces the num- ber of taxis required, and enables cutting the cumulative trip length and travel time. In turn, this results in the reduction of operational costs, such as fuel consumption and car depreciation [6,8,9,11,14,23]. Shuo Ma et al. [14] and Sun et al. [30,p. 409] argue that even increased reve- nues may be possible by implementing favorable pricing mechanisms and by better utilizing delivery capacities [14]. Societal benefits include diminishing the negative impacts of taxis on cities by reducing noise and traffic congestion, a reduction ofgreenhouse emission, and less en- ergy consumption [6,9,11,13,14,16,23,30,p. 409]. 

On the downside, TRS can also lead to disadvantages. First, there may be an increase in the overall service andwaiting time [6,9],leaving passengers concerned about the reliability of TRS [26]. Second, there may be problems related to the privacy and security of traveling with strangers in the same vehicle [9,30,p. 415]. Third, the potential positive environmental effects need to be treated with caution, as the reduced cost of taxi rides could also result in increased demand, or other re- bound effects [31,32].

Approaches towards TRS [6–14,16,23, 28,29] differ regarding the proposed routing patterns, matching con- straints, matching dynamics, and matching objectives. However, most approaches are based on the idea that passengers can embark and dis- embark anytime during a trip.

## Research method

### Data collection

we analyzed an open dataset collected by the NYC City Taxi & Limousine Commission (TLC), which records data about their taxi fleet operations on a per-trip basis. Taxi trip data fromNYCwas first released and described by DonovanandWork [34].Later the TLC [35] published a more comprehensive dataset, spanning from2009 to 2015 and covering several hundred million trips completed by the yellow and green cab companies (the latter starting from August 2013). The volume of this dataset makes our approach a spatial big data analysis.

### Data cleansing

Some trips were conducted outside of the city borders. Therefore, all trips outside a given coordinate range were dropped. The south-western border was set to [40.477399, −74.25909] and the north-eastern border was specified as [40.917577, −73.700009]

There were a few tripswhere the actual trip distance was smaller than this calculated distance, which is geometrically impossible.

trips shorter than 200mwere discarded.

all trips with identical start and end points were dropped [9]. Tripswithunrealistic durations (i.e., trips lasting less than aminute, lon- ger than 2 h, and trips with velocities above 144 km/h, which is 40 km/h above the speed limit of65 mp/h) were dropped.

all trips which had 0 passengers and thosewhichhad a rate_code equal to5 (individual negotiation price) or 6 (group fare on fixed route) were dropped. These data preparation activities removed around 7.3% of all trips in the ordi- nary week (7.14% in the extraordinary week).

### Matching constraints

First, the distances between the origins (o) and destinations (d)of the individual trips need to be checked [18]. Two trips should only be matched if the walking distance between their origins is smaller than odist and the walking distance between their destinations is smaller than ddist. Also, we ensured that the total trip distance (tdist) is longer than a portion of the overall walking distance (wdf∗ (odist + ddist)).

Second, matched trips need to start at approximately the same time [21]. We added a time-window constraint that specifies the time be- tween the trip announcement and the latest possible departure time (timeWindow). To ensure that customers would arrive on time (arrivalTime ≤ latestDepartureTime), the approximate walking time be- tween the pickup points was calculated and added to the difference. While other TRS approaches define a constraint on the maximum delay in trip duration or the actual drop-off time [6,9,11,13,14],aone- to-one approach as presented here does not require this extra con- straint, since by definition shared trips end at approximately the same destination and time. Since the walking time to the drop-off location is already bounded by the distance constraint and a constant walking speed is assumed, an additional constraint is not required. 

Third, our approach also considers the capacity of taxis (carCapacity). While the car capacity may vary in reality, a fixed car size was assumed. As stated by D'Orey et al. [6] and the TLC [45], the maximum taxi capacity in NYC is five, which we used to restrict the number of combined passengers in a shared ride (sum(passengerAmount)). Similar to Chen et al. [8] and Santi et al. [9], another constraint defines the maximum number of individual trips (maxTripShare) that can be shared in a single ride (e.g. pairwise, triple, or quadruple matches). We did not consider personal constraints such as smoking attitudes or gender, as suggested by Lalos et al. [23],Santos and Xavier [16] and Tao andWu [28], since our dataset did not provide these attributes.

Fourth, we designed a simple and easy-to-understand pricing mechanism that evenly splits the cost of a shared ride between the partici- pants. To prevent that the reduction of individual rides had a negative impact on the operators' and drivers' incomes, we added a constant sharing surcharge that needs to be paid by each passenger. Similar to the approach ofShuoMa et al. [14], this simple pricing schemeprovides taxi companies anddriverswithmore profit per ride, while reducing the expenses for individual passengers. Other TRS approaches either ensure that trips are profitable, that the price paid is smaller than the price of the original trip, or that the price is high enough to pay the driver [7, 11,13,16].

we assume that a rider is only willing to host a shared trip if a single match (tripAmount = 2) is enough to reduce his/her individual costs. Comparable to this, a rider would only be willing to join a shared ride if the current amount of matched rides (tripAmount) is high enough to reduce his/her expenses (individualCosts).

Fifth, only trips that ended at the same destination without long de-
tours to intermediate destinations were matched. Hence, a distance de- viation constraint (dd) was added that checks the differences between the individual trip lengths. Without this check, unrealistically profitable trips would be merged, biasing the analysis results.

### Matching process

all tripswere analyzed in chrono- logical order, using a greedy first-come-first-served (FCFS) heuristic.

Overall, our trip matching process can be divided into four phases (Fig. 2):

1. Initialization: this step ensured that the prerequisites of the algo- rithm, such as clearing old cached results, preparing the input and output data structures, and initializing algorithm components—such as a spatial index for the pick-up locations—were met.
2. Loop over unmatched riders: we considered eachunmatched rider as a potential host for a shared trip. Therefore, we processed the trips in ascending order oftheir pick-up times. In this step, we used a spatial index to approximate the pick-up distance constraint and thus, opti- mized the search strategy. This method was inspired by the idea of national grid reference systems [46] and can be compared to a sim- plified version of the “lazy shortest path calculation” presented by Shuo Ma et al. [14]. With this approach, we restricted the distance calculation and the check ofthe other constraints to a quickly identi- fied narrow set ofmatching candidates.
3. Loop over potential matching candidates: for each matching candi- date we checked the constraints explained before (including the pick-up distance constraint). If all constraints were satisfied, we added the matching candidate to the trip of the host.
4. Return the overall matching results: in the last phase, we evaluated and stored the result data structure containing the shared rides for further analyses. 

## Data analysis and results

### Reference scenario

The data indicate that a considerable number of trips can be shared (48% for the ordinary week and 43% for the extraordinary week), resulting in a substantial ride reduction (753,860 rides for the ordinary week and 497,734 rides for the extraor- dinary week).

### What-if analysis

**Influence of the distance constraint**

**Influence ofthe length ofthe time window**

**Influence ofcar capacity**

**Influence ofmulti-ridesharing approaches**

**Influence ofsharing surcharges**

**Influence ofweek days and time ofday**

**Influence ofpick-up and drop-off locations**




## Contribution

From a decision-support perspective, our proposed approach and our empirical results contribute to enhancing the decision-making of actors at various levels. 

First, the proposed approach enables taxi operators to estimate the feasibility of one-to-one taxi ridesharing for a given city and various scenarios. The conceptual framework presented here can easily be instantiated to form the backbone of a decision support system that allows for calculating the overall economic potential of taxi ridesharing as well as for conducting detailed what-if analyses. 

Second, our approach and empirical results can inform policy making related to urban transportation. Policy makers with access to taxi trip data, for example, national or local transportation authorities, can use the approach presented here and replicate our analyses to support decisions regarding sustainable urban transportation (e.g., subsidizing taxi ridesharing). 

Third, our findings may convince individual customers of the potential of taxi ridesharing and thereby influence their decision making related to whether to use existing taxi ridesharing systems or not.