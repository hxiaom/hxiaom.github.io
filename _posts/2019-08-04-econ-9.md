---
layout: post
title: 【Method】回归分析基础（六）多元回归分析有效性的评估
categories: Analytics
---

本章将研究多元回归分析在什么情况下是可靠的，而在什么情况下是不可靠的。我们将集中讨论旨在估计解释变量变化对被解释变量的因果效应的统计分析，我们要了解多元回归分析给出的因果效应估计在什么情况下是有效的，什么情况下是无效的。

本章将介绍评估统计有效性的一般框架，这一框架适用于回归分析，也适用于其他分析。该框架是建立在内部有效性和外部有效性的概念基础上。如果某项研究关于因果效应的统计推断对所研究的总体及环境是有效的，则称其具有内部有效性；如果某项研究的统计推断可以推广到其他总体及环境中，则称其具有外部有效性。

## 内部有效性和外部有效性

如果某项研究关于因果关系的统计推断对所研究的总体是有效的，则称其具有内部有效性（internal validity）。如果统计推断及结论可以推广到其他总体及环境中，则称其具有外部有效性（external validity）。

内部有效性和外部有效性将我们所研究的总体及环境与（欲将研究结论推广到）其他总体及环境做了区分。其中，研究的总体（population studied）是指从中抽样的个人、公司或学区等总体。结论可推广到其他总体，或感兴趣的总体（population of interest），即我们意将研究所得到的因果推断推广到的总体。例如，某中学（9~12年级）校长想把我们关于加利福利亚小学学区（研究总体）班级规模和测试成绩的结论推广到中学总体（感兴趣的总体）中。

这里的“环境”是指制度、法律、社会和经济环境。例如，在实验室内评估的有机番茄种植方法的结论能否推广到田间，即在实验室环境中有效的有机种植方法能否在现实世界环境中发挥同样的效果，了解这一点是很重要的。

### 内部有效性的威胁

内部有效性由两部分组成。第一，因果效应的估计量应该是无偏和一致的。

第二，假设检验应该具有合意的显著性水平（在原假设下，被拒绝的实际概率应该等于合意的显著性水平），置信区间也应该具有合意的置信水平。

在回归分析中，因果效应是通过估计回归函数得到的，而假设检验是基于估计的回归系数及其标准误差来进行的。相应地，在基于OLS回归的研究中，内部有效性要求OLS估计量是无偏和一致的，同时要求计算的标准误差要使置信区间具有合意的置信水平。然而，存在各种各样的原因会使上述条件无法成立，这些原因便构成了内部有效性的威胁。这些威胁导致一个或多个最小二乘条件不成立。例如，我们详细讨论过的遗漏变量偏差问题就是一个威胁，它会导致一个或多个回归变量与误差项相关，从而违背了第一个最小二乘假设。如果能够获得遗漏变量或控制变量的数据，则我们可以通过在回归中加入这些变量从而避免遗漏变量偏差带来的威胁。

### 外部有效性的威胁

外部有效性的潜在威胁来自研究总体及环境和感兴趣的总体及环境之间的差异。

总体间的差异。研究总体和感兴趣的总体之间的差异构成了外部有效性的威胁。例如，实验室中通常利用像老鼠这样的动物总体（研究总体）来研究化学药品的毒性，但其结果却被用来制定人类（感兴趣的总体）的健康和安全准则。老鼠和人类之间的差异是否足够大，以致威胁到此类研究的外部有效性，这仍存在争议。

一般而言，研究总体的真实因果效应与感兴趣的总体的真实因果效应可能不同，这可能是因为所研究总体的选取方法使其与感兴趣的总体出现差异，或因为总体特征不同，或因为地理位置不同，又或是因为研究已经过时。

环境的差异。即使研究总体和感兴趣的总体完全相同，但如果环境存在差异，也可能无法推广研究结果。例如，如果两所大学对酗酒的惩罚措施不同，即使两所大学的学生总体相同，也不能将其中一所大学的反酗酒宣传活动对大学生酗酒的效应推广到另一所大学。在这个例子中，研究所处的法律环境与研究结论欲推广到的法律环境是不同的。

一般而言，环境差异的例子包括制度环境的差异（如公立大学和宗教大学）、法律的差异（如法律制裁的差异）或自然环境的差异。

感兴趣的总体及环境与研究总体及环境越接近，则越可能具有外部有效性。

如何评估一项研究的外部有效性。外部有效性评估必须借助对研究总体及环境和感兴趣的总体及环境的具体了解。如果二者之间存在显著差异，则研究的外部有效性就值得怀疑。

有时，围绕不同但相关的总体会存在两个或多个相似研究。如果是这样的话，我们可以通过比较两个研究结果来检验它们的外部有效性。一般来说，两个或多个研究结论相似，则支持外部有效性，但如果这些结论存在无法解释的差异，则我们有理由怀疑其外部有效性。

如何设计具有外部有效性的研究。由于外部有效性的威胁来源于总体及环境缺乏可比性，所以最好在收集数据之前，即研究初期就尽量降低这些威胁。

## 多元回归分析的内部有效性威胁

本节将讨论造成多元回归系数的OLS估计量在大样本下仍然有偏的五个原因，即遗漏变量、回归函数形式的误设、解释变量测量偏误（“变量误差”）、样本选取及双向因果关系。这五个偏差产生的原因都是由于回归模型中解释变量与误差项相关，从而违背了第一个最小二乘假设。这里将针对每一个原因讨论如何缩小偏差，本节最后将讨论导致标准误差非一致的情况及其处理办法。

### 遗漏变量偏差

由之前的讨论可知，如果回归中遗漏了某个影响Y且与一个或多个解释变量相关的变量时，就会产生遗漏变量偏差。即使在大样本下，这一偏差仍然存在，故OLS估计量是非一致的。如何尽量减少遗漏变量偏差，则取决于我们是否能够获得潜在遗漏变量的数据。

当遗漏变量可观测或有足够的控制变量时，遗漏变量偏差的解决方法。如果你有遗漏变量的数据，那么在多元回归模型中加入该变量便可解决遗漏变量偏差问题。或者，如果你有一个或多个控制变量的数据，且这些控制变量是足够的，即能够保证条件均值独立假设成立，则加入这些控制变量便可消除感兴趣变量系数的潜在偏差。

在回归中加入新的变量由好处也有坏处。一方面，遗漏变量可能导致遗漏变量偏差；另一方面，如果加入了不该回归的变量（即其总体回归系数为零），则会降低其他回归系数估计量的精确度。换句话说，是否要加入该变量取决于感兴趣系数估计量的偏差和方差之间的权衡。在实际应用中，以下四个步骤可以帮助你决定在回归中是否应该加入某个或多个变量。

第一步：